plugins {
    id 'java'
}

group 'cyren'
version '1.0-RELEASE'

sourceCompatibility = 1.8

repositories {
    mavenCentral()
}

dependencies {
    implementation 'io.micrometer:micrometer-registry-prometheus:latest.release'
    compileOnly group: 'com.github.tomakehurst', name: 'wiremock', version: "$WIREMOCK_VERSION"

//	testImplementation group: 'com.github.tomakehurst', name: 'wiremock', version: "$MICROMETER_VERSION"
//    testImplementation group: 'junit', name: 'junit', version: "$JUNIT_VERSION"
}

task fatJar(type: Jar) {
  duplicatesStrategy = DuplicatesStrategy.EXCLUDE
  archiveBaseName = 'wire-mock-extensions'
  from { configurations.compileClasspath.collect { it.isDirectory() ? it : zipTree(it) } }
  with jar
}
